<html>

<head>
	<title>Lucid Lineage</title>


	<link rel="stylesheet" type="text/css" href="lib/jeasy/themes/herald/easyui.css">
	<link rel="stylesheet" type="text/css" href="lib/jeasy/themes/icon.css">
	
	<script type="text/javascript" src="lib/jeasy/jquery.min.js"></script>
	<script type="text/javascript" src="lib/jeasy/jquery.easyui.min.js"></script>



	<link rel="stylesheet" href="dd_styles.css">
	<link rel="stylesheet" href="lib/menu.css">

	<script type="text/javascript" charset="utf-8" src="lib/d3.js"></script>
	<script type="text/javascript" src="lib/cola.js"></script>
	<script type="text/javascript" src="lib/thenBy.js"></script>

	<script type="text/javascript" src="lucid.js"></script>
	<script type="text/javascript" src="testdata.js"></script>

	<script>
		/*global d3*/
		/*global bjs*/
		/*global testdata*/

		/*
		linear-gradient(to left, rgb(0, 118, 150), rgb(0, 169, 157))
		#007696
		#00A99D
		*/

    //global selections
    var svg = {};
    var rawJson = {}; // the last json string we processed
    var bip = {}; //our reference to the current visualizer, which refers to its modelview(?)
    var w = {}; //the global world (filtered)
    var config= new bjs.config();
    var theFilter = new bjs.filter("","","","",true,true,false);
    var theSquash = new bjs.squash("","","",false);
    var theFocus = new bjs.filter("","","","",true,true,true);

    function shBipart(){
    	bip = new bjs.bp_view();
        $("#opt_adjust_links").show();  
        $("#opt_floworder").hide();
        $("#opt_xaxis").hide();
        $("#opt_yaxis").hide();
        $("#opt_node_cp").show();
        $("#opt_link_cp").show();
        $("#opt_highlight").show();
        $("#opt_influence").hide();      
    	clear();
    	refresh();
    }

    function shScatter(){
        bip = new bjs.scatter_view();
        $("#opt_adjust_links").hide();  
        $("#opt_floworder").hide();
        $("#opt_xaxis").show();
        $("#opt_yaxis").show();
        $("#opt_node_cp").show();
        $("#opt_link_cp").show();
        $("#opt_highlight").show();
        $("#opt_influence").hide();
        clear();
        refresh();
    }

    function shHive(){
    	bip = new bjs.hive_view();
        $("#opt_adjust_links").hide();  
        $("#opt_floworder").hide();
        $("#opt_xaxis").hide();
        $("#opt_yaxis").hide();
        $("#opt_node_cp").show();
        $("#opt_link_cp").show();
        $("#opt_highlight").show();
        $("#opt_influence").hide();
    	clear();
    	refresh();
    }

    function shMatrix(){
    	bip = new bjs.cm_view();
        $("#opt_adjust_links").hide();  
        $("#opt_floworder").hide();
        $("#opt_xaxis").hide();
        $("#opt_yaxis").hide();
        $("#opt_node_cp").show();
        $("#opt_link_cp").show();
        $("#opt_highlight").show();
        $("#opt_influence").show();
    	clear();
    	refresh();
    }
    
    function shFlow(){
    	bip = new bjs.flow_view();
        $("#opt_adjust_links").hide();  
        $("#opt_floworder").show();
        $("#opt_xaxis").hide();
        $("#opt_yaxis").hide();
        $("#opt_node_cp").show();
        $("#opt_link_cp").show();
        $("#opt_highlight").show();
        $("#opt_influence").hide();
    	clear();
    	refresh();
    }
    
    function shCola(){
    	bip = new bjs.cola_view();
        $("#opt_adjust_links").show();  
        $("#opt_floworder").hide();
        $("#opt_xaxis").hide();
        $("#opt_yaxis").hide();
        $("#opt_node_cp").show();
        $("#opt_link_cp").show();
        $("#opt_highlight").show();
        $("#opt_influence").hide();
    	clear();
    	refresh();
    }
    
    function shTree(){
    	bip = new bjs.tree_view();
        $("#opt_adjust_links").hide();  
        $("#opt_floworder").hide();
        $("#opt_xaxis").hide();
        $("#opt_yaxis").hide();
        $("#opt_node_cp").show();
        $("#opt_link_cp").show();
        $("#opt_highlight").show();
        $("#opt_influence").hide();
    	clear();
    	refresh();
    }


    function init() {

    	svg = d3.select("svg");

    	bjs.hover = mouseOverHandler;

    	config = new bjs.config();

    	d3.select("#ctrl_filter_btn").on("click", function(d) {

    		var inc = $("#ctrl_inc").val().trim();
    		var exc = $("#ctrl_exc").val().trim();
    		var inc_rels = $("#ctrl_inc_left").val().trim();
    		var exc_rels = $("#ctrl_exc_left").val().trim();
    		var grab_left = $("#ctrl_grab_left")[0].checked;
    		var grab_right = $("#ctrl_grab_right")[0].checked;

    		theFilter = new bjs.filter(inc, exc, inc_rels, exc_rels, grab_left, grab_right, false);

    		refresh();
    	});

    	d3.select("#ctrl_squash_btn").on("click", function(d) {

    		var el_fields = $("#ctrl_el_fields").val().trim();
    		var el_assets = $("#ctrl_el_assets").val().trim();
    		var el_internal = $("#ctrl_el_internal")[0].checked;
    		var cr_assets = $("#ctrl_cr_assets").val().trim();

    		theSquash = new bjs.squash(el_fields, el_assets, cr_assets, el_internal);

    		refresh();
    	});

        d3.select("#ctrl_focus_btn").on("click", function(d) {

            var inc = $("#ctrl_inc_focus").val().trim();
            var exc = $("#ctrl_exc_focus").val().trim();
            var grab = $("#ctrl_grab_focus")[0].checked;

            theFocus = new bjs.filter(inc, exc, "", "", grab, grab, true);

            redraw();
        });

    	d3.select("#ctrl_squash_clear_btn").on("click", function(d) {
    		theSquash = new bjs.squash("","","",false);

    		refresh();
    	});

    	d3.select("#ctrl_filter_clear_btn").on("click", function(d) {
    		theFilter = new bjs.filter("","","","",true,true,false);

    		refresh();
    	});

        d3.select("#ctrl_focus_clear_btn").on("click", function(d) {
            theFocus = new bjs.filter("","","","",true,true,true);

            redraw();
        });

    	rawJson = testdata.raw;
    }

    function onOptChanged(chk){
        config.optimize = chk;
        redraw();
    }

    function onFOChanged(r){
        config.floworder=bjs.floworder[r.value];
        redraw();
    }

    function onXOChanged(r){
        config.xorder=bjs.xyorder[r.value];
        redraw();
    }

    function onYOChanged(r){
        config.yorder=bjs.xyorder[r.value];
        redraw();
    }

    function onInfChanged(r){
        config.infFlag=bjs.infFlag[r.value];
        redraw();
    }

    function onNCPChanged(r){
        config.nodeColorplan=bjs.colorplan[r.value];
         redraw();       
    }

    function onLCPChanged(r){
        config.linkColorplan=bjs.linkColorplan[r.value];
        redraw();        
    }

    function onHLChanged(r){
        config.showDetail=bjs.showDetail[r.value];
        redraw();    
    }


    function refresh() {
    	w = bjs_data_json.fromJson(rawJson, theFilter, theSquash);
    	updateDataSummary(w);
    	redraw();
    }


    function redraw() {
    	mouseOverHandler(null);
    	bip.render(svg, w, config, theFocus);
    }

    function clear() {
    	d3.selectAll("svg > *").remove();
    }


    $(document).ready(function() {
    	init();
        shScatter();
    });

    function updateDataSummary(w) {

    	var txt = "";

    	var fields = 0,
    	outs = 0,
    	ins = 0,
    	mids = 0,
    	orphs = 0;

    	for (var i in w.fields) {
    		var f = w.fields[i];
    		if (f.hasSources) {
    			f.hasTargets ? mids++ : outs++;
    		}
    		else {
    			f.hasTargets ? ins++ : orphs++;
    		}
    		fields++;
    	}

    	txt += fields + " fields.<br/>";
    	txt += w.rels.length + " links.<br/><br/>";

    	txt += "Output fields: " + outs + "<br/>";
    	txt += "Input fields: " + ins + "<br/>";
    	txt += "Intermediate fields: " + mids + "<br/>";
    	txt += "Orphan fields: " + orphs + "<br/>";


    	d3.select("#data_summary").html(txt);
    }

    function mouseOverHandler(d) {

    	var name = "",
    	summary = "",
    	details = "";
        stats = "";
        terms = "";

    	if (d != null) {


    		if (d.itemtype == "node") {
                if(d.isLogical()){
                    name += "A logical node not associated with a field.";
                }else{
        			name += "Field: " + d.field.name + "<br/>";
                    name += "ID: " + d.field.fullname;

        			summary += d.field.desc + "<br/>";
        			summary += "Type: " + d.field.type + "<br/>";
        			summary += "Found in dataset: " + d.field.asset.fullname + "<br/>";

        			details += "<h3>Content:</h3><ul><li>Description: " + d.field.desc + "</li><li>Formula: " + d.field.formula + "</li></ul>";

        			details += "<h3>Risk Characteristics:</h3><ul><li>Risk: " + d.field.effrisk + "</li>";
        			details += "<li>Quality/Error: " + (d.field.effquality).toFixed(2) + "</li></ul>";

                    details += "<h3>Other:</h3>";
                    if(d.field.effnolineage) details += "Lineage is incomplete.<br/>";
                    details += "Available from day " + d.field.asset.effnotbefore + "<br/>";
                    if(d.field.isLogical()) details += "This field is a placeholder, not a physical field."

        			stats += "<h3>Debugging:</h3><ul><li>Ldepth: " + d.field.ldepth + "</li><li>Rdepth: " + d.field.rdepth + "</li></ul>";
                    stats += "<h3>Risk:</h3><ul><li>Total Risk: " + d.field.effrisk + " </li>";
                    if(d.field.risk > 0){
                        stats += "<li>Inherent risk: " + d.field.risk + "</li>";
                    }
                    if(d.field.asset.risk > 0){
                        stats += "<li>From asset risk: " + d.field.asset.risk + "</li>";
                    }
                    for(var i=0;i<d.field.sources.length;++i){
                        if(d.field.sources[i].effrisk > 0){
                            stats += "<li>From " + d.field.sources[i].fullname + ": " + d.field.sources[i].effrisk + "</li>";
                        }
                    }
                    stats += "</ul>";

                    stats += "<h3>Quality/Error:</h3><ul><li>Total Error: " + d.field.effquality.toFixed(2) + " </li>";
                    if(d.field.quality > 1){
                        stats += "<li>Inherent error: " + d.field.quality.toFixed(2) + "</li>";
                    }
                    for(var i=0;i<d.field.sources.length;++i){
                        if(d.field.sources[i].effquality > 1){
                            stats += "<li>From " + d.field.sources[i].fullname + ": " + d.field.sources[i].effquality.toFixed(2) + "</li>";
                        }
                    }
                    stats += "</ul>";

                    stats += "<h3>Importance:</h3><ul><li>Total Importance: " + d.field.effimportance + " </li>";
                    if(d.field.importance > 0){
                        stats += "<li>Inherent importance: " + d.field.effimportance + "</li>";
                    }
                    for(var i=0;i<d.field.targets.length;++i){
                        if(d.field.targets[i].effimportance > 0){
                            stats += "<li>From " + d.field.targets[i].fullname + ": " + d.field.targets[i].effimportance + "</li>";
                        }
                    }
                    stats += "</ul>";


        			if(d.field.term != null){
        				terms += "<h3>Business Term:</h3>Code: " + d.field.term.code + "<br/>Name: " + d.field.term.name + "<br/>Definition: " + d.field.term.desc;
        			}else{
        				terms += "Not associated with any business term";
        			}
                }

    		}

    		if (d.itemtype == "group") {
    			name += "Group: " + d.fullname;
                name += "Asset: " + d.asset?d.asset.fullname:"n/a";

    			summary += d.asset.desc + "<br/>";
    			summary += "Type: " + d.asset.type + "<br/><br/>";

    			if(d.asset != null){

    				details += "<h3>Content:</h3><ul><li>Description: " + d.asset.desc + "</li><li>Located At: " + bjs.breakPath(d.asset.location) +  + "</li><li>Calculated In: " + bjs.breakPath(d.asset.calc) + "</li></ul>";

    				details += "<h3>Ownership:</h3><ul><li>Staff member: " + d.asset.owner + "</li><li>Team: " + d.asset.dept + "</li></ul>";

    				details += "<h3>Risk Characteristics:</h3><ul><li>Direct Risk: " + d.asset.risk + "</li></ul>";

    				details += "<h3>Timing Characteristics:</h3><ul><li>Available From:  Day " + d.asset.effnotbefore  + "</li><li>Inherent Latency: " + d.asset.latency + " Days </li><li>Theoretical Earliest: Day " + d.asset.notbefore + "</li></ul>";

    				stats += "<h3>Debugging:</h3><ul><li>Ldepth: " + d.asset.ldepth + "</li><li>Rdepth: " + d.asset.rdepth + "</li></ul>";
    			}

    			else {
    				summary = "Group is not based on a data asset";
    				details = "n/a";
    			}

    		}

            if(d.itemtype == "pt") {
                name += "Relationship source: " + d.source.fullname + "<br/>";
                name += "Relationship target: " + d.target.fullname + "<br/>";

                details += "Relationship distance: " + d.depth + "<br/>";
                details += "Relationship type: " + (d.isFilter?"filter":"measure") + "<br/>";

            }

    	} else {
    		name = "<br/><br/>";
    		summary = "<br/><br/><br/>";
    		details = "<br/>";
            stats = "<br/>";
            terms = "<br/>";
    	}

    	d3.select("#object_name").html(name);
    	d3.select("#object_summary").html(summary);
    	d3.select("#object_details").html(details);
        d3.select("#object_stats").html(stats);
        d3.select("#object_terms").html(terms);
    }
</script>
</head>

<body>


	<nav id="menu-wrap">    
		<ul id="menu">
			<li id="menu-special"><img src="kinlogo2.png" style="margin-left: 10px;margin-right:10px;height:35px;"/> </li>
            <li>
                <a href="#">Visualization</a>
                <ul>
                    <li>
                        <a href="#" onclick="shMatrix();">Matrix</a>
                    </li>
                    <li>
                        <a href="#" onclick="shTree();">Tree</a>
                    </li>
                    <li>
                        <a href="#" onclick="shBipart();">Bipartite</a>
                    </li>
                    <li>
                        <a href="#" onclick="shHive();">Hive</a>
                    </li>
                    <li>
                        <a href="#" onclick="shFlow();">Flow</a>
                    </li>
                    <li>
                        <a href="#" onclick="shCola();">Constrained</a>
                    </li>
                    <li>
                        <a href="#" onclick="shScatter();">Scatter</a>
                    </li>
                </ul>
            </li>
			<li>
				<a href="#">Reporting</a>
				<ul>
					<li>
						<a href="#" onclick="shBipart();">Export Images</a>
						<ul>
							<li>
								<a href="#" onclick="$('dialog_noconnection').dialog();">One per Hit</a>
								<a href="#" onclick="$('dialog_noconnection').dialog();">One Image</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="#" onclick="shHive();">Metadata Health</a>
					</li>
					<li>
						<a href="#" onclick="shFlow();">Data Cost Metrics</a>
						<ul>
							<li>
								<a href="#" onclick="$('dialog_noconnection').dialog();">Analyse Metadata</a>
								<a href="#" onclick="$('dialog_noconnection').dialog();">Time Analysis</a>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li>
				<a href="#">Import</a>
				<ul>

					<li>
						<a href="#">Connect to SAS</a>
						<ul>
							<li>
								<a href="#" onclick="$('dialog_noconnection').dialog();">Connect base SAS</a>
								<a href="#" onclick="$('dialog_noconnection').dialog();">Connect DI</a>
							</li>
						</ul>
					</li>
					
					<li>
						<a href="#">Import Data Sets</a>
						<ul>
							<li>
								<a href="#" onclick="$('dialog_nopermission').dialog();">Import Base</a>
								<a href="#" onclick="$('dialog_nopermission').dialog();">Import Excel</a>
								<a href="#" onclick="$('dialog_nopermission').dialog();">Import Json</a>
							</li>
						</ul>
					</li>
					
					<li>
						<a href="#">Manage Data Sets</a>
						<ul>
							<li>
								<a href="#" onclick="$('dialog_nopermission').dialog();">Data Set List</a>
								<a href="#" onclick="$('dialog_nopermission').dialog();">Refresh All</a>
							</li>
						</ul>
					</li>
					
					<li>
						<a href="#">Apply Values</a>
						<ul>
							<li>
								<a href="#" onclick="$('dialog_nopermission').dialog();">From SAS</a>
								<a href="#" onclick="$('dialog_nopermission').dialog();">From Json</a>
							</li>
						</ul>
					</li>
					
				</ul>
			</li>

			<li>
				<a href="#">Data</a>
				<ul>
					<li>
						<a href="#" onclick="">Edit Terms</a>
					</li>
					<li>
						<a href="#" onclick="">Edit Assets</a>
					</li>
					<li>
						<a href="#" onclick="">Edit Fields</a>
					</li>
					<li>
						<a href="#" onclick="">Edit Objects</a>
					</li>
					<li>
						<a href="#" onclick="">Edit Owners</a>
					</li>
					<li>
						<a href="#" onclick="">Asset Manager</a>
					</li>
				</ul>
			</li>

			<li>
				<a href="#">Favorites</a>
				<ul>
					<li>
						<a href="#" onclick="">Visualizations</a>
					</li>
					<li>
						<a href="#" onclick="">Filters</a>
					</li>
					<li>
						<a href="#" onclick="">Reports</a>
					</li>
				</ul>
			</li>


			<li>
				<a href="">Admin</a>
				<ul>
					<li>
						<a href="#" onclick="">Users</a>
					</li>
					<li>
						<a href="#" onclick="">Connections</a>
					</li>
					<li>
						<a href="#" onclick="">Console Window</a>
					</li>
				</li>
				<li><a href="">Help</a></li>
			</ul>
		</nav>

		<div class="easyui-layout" style="width:100%;height:100%;">
		
		<div data-options="region:'east',split:true,hideCollapsedContent:false" title="Object Info" style="width:300px;">
			<div class="easyui-accordion" data-options="multiple:true" style="width:100%">
				<div title="Object ID" class="sidepanel">
					<div id="object_name" class="info"></div>
				</div>
				<div title="Summary" class="sidepanel">
					<div id="object_summary" class="info"></div>
				</div>
                <div title="Related Terms" class="sidepanel">
                    <div id="object_terms" class="info"></div>
                </div>
				<div title="Details" class="sidepanel">
					<div id="object_details" class="info"></div>
				</div>
                <div title="Stats" class="sidepanel">
                    <div id="object_stats" class="info"></div>
                </div>
			</div>
		</div>

		<div data-options="region:'west',split:true,hideCollapsedContent:false" title="Controls" style="width:340px;">

			<div class="easyui-accordion" data-options="multiple:true" style="width:100%">
            <div title="Data Set" class="sidepanel">
                    <table>
                        <tr>
                            <td class="formlabel">Data source:</td>
                            <td><select class="easyui-combobox" style="width:140px" id="ctrl_node_cp" name="ctrl_node_cp">
                                <option value="flat">Demo</option>
                            </select></td>
                        </tr>
                        <tr>
                            <td class="formlabel">As of date:</td>
                            <td><input class="easyui-datebox" id="ctrl_thedate"></input></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <a href="#" name="ctrl_load_btn" id="ctrl_load_btn" class="easyui-linkbutton" data-options="plain:false,iconCls:'icon-herald-load'">Load Data</a>
                            </td>
                        </tr>
                    </table>
                </div>
				<div title="Filter" class="sidepanel">
					<table cellpadding="5">
						<tr>
							<td class="formlabel">Include:</td>
							<td><input class="easyui-textbox" type="text" name="ctrl_inc" id="ctrl_inc"></input></td>
						</tr>
						<tr>
							<td class="formlabel">Exclude:</td>
							<td><input class="easyui-textbox" type="text" name="ctrl_exc" id="ctrl_exc"></input></td>
						</tr>
						<tr>
							<td class="formlabel">Include Related:</td>
							<td><input class="easyui-textbox" type="text" name="ctrl_inc_left" id="ctrl_inc_left"></input></td>
						</tr>
						<tr>
							<td class="formlabel">Exclude Related:</td>
							<td><input class="easyui-textbox" type="text" name="ctrl_exc_left" id="ctrl_exc_left"></input></td>
						</tr>
						<tr>
							<td class="formlabel">Add Ancestors:</td>
							<td><input id="ctrl_grab_left" class="easyui-switchbutton" checked style="width:100px;height:24px" data-options="onText:'Yes',offText:'No'"/></td>
						</tr>
						<tr>
							<td class="formlabel">Add Descendants:</td>
							<td><input id="ctrl_grab_right" class="easyui-switchbutton" checked style="width:100px;height:24px" data-options="onText:'Yes',offText:'No'"/></td>
						</tr>
						<tr>
							<td></td>
							<td>
								<a href="#" name="ctrl_filter_btn" id="ctrl_filter_btn" class="easyui-linkbutton" data-options="plain:false,iconCls:'icon-herald-filter'">Filter</a>
						        <a href="#" name="ctrl_filter_clear_btn" id="ctrl_filter_clear_btn" class="easyui-linkbutton" data-options="plain:false,iconCls:'icon-herald-clear'">Clear</a>
							</td>
						</tr>
					</table>
				</div>
				<div title="Simplify" class="sidepanel">
					<table>
						<tr>
							<td class="formlabel">Eliminate Fields:</td>
							<td><input class="easyui-textbox" type="text" name="ctrl_el_fields" id="ctrl_el_fields"></input></td>
						</tr>
						<tr>
							<td class="formlabel">Eliminate Assets:</td>
							<td><input class="easyui-textbox" type="text" name="ctrl_el_assets" id="ctrl_el_assets"></input></td>
						</tr>
						<tr>
							<td class="formlabel">Compress Assets:</td>
							<td><input class="easyui-textbox" type="text" name="ctrl_cr_assets" id="ctrl_cr_assets"></input></td>
						</tr>
						<tr>
							<td class="formlabel">Resolve Inner Links:</td>
							<td><input id="ctrl_el_internal" class="easyui-switchbutton" checked style="width:100px;height:24px" data-options="onText:'Yes',offText:'No'"/></td>
						</tr>
						<tr>
							<td></td>
							<td>
								<a href="#" name="ctrl_squash_btn" id="ctrl_squash_btn" class="easyui-linkbutton" data-options="plain:false,iconCls:'icon-herald-filter'">Simplify</a>
						        <a href="#" name="ctrl_squash_clear_btn" id="ctrl_squash_clear_btn" class="easyui-linkbutton" data-options="plain:false,iconCls:'icon-herald-clear'">Clear</a>
							</td>
						</tr>
					</table>
				</div>
				<div title="Focus" class="sidepanel">
					<table>
						<tr>
							<td class="formlabel">Include:</td>
							<td><input class="easyui-textbox" type="text" name="ctrl_inc_focus" id="ctrl_inc_focus"></input></td>
						</tr>
                        <tr>
                            <td class="formlabel">Exclude:</td>
                            <td><input class="easyui-textbox" type="text" name="ctrl_exc_focus" id="ctrl_exc_focus"></input></td>
                        </tr>
                        <tr>
                            <td class="formlabel">Add Relatives:</td>
                            <td><input id="ctrl_grab_focus" class="easyui-switchbutton" checked style="width:100px;height:24px" data-options="onText:'Yes',offText:'No'"/></td>
                        </tr>
						<tr>
							<td></td>
							<td>
								<a href="#" name="ctrl_focus_btn" id="ctrl_focus_btn" class="easyui-linkbutton" data-options="plain:false,iconCls:'icon-herald-filter'">Focus</a>
						        <a href="#" name="ctrl_focus_clear_btn" id="ctrl_focus_clear_btn" class="easyui-linkbutton" data-options="plain:false,iconCls:'icon-herald-clear'">Clear</a>
							</td>
						</tr>
					</table>
				</div>
				<div title="View Options" class="sidepanel">
					<table>
						<tr id="opt_adjust_links">
							<td class="formlabel">Adjust Links:</td>
							<td><input id="ctrl_opt" class="easyui-switchbutton" style="width:100px;height:24px" data-options="onText:'Yes',offText:'No',onChange: onOptChanged"/></td>
						</tr>
                        <tr id="opt_floworder">
                            <td class="formlabel">X Axis:</td>
                            <td><select class="easyui-combobox" style="width:140px" id="ctrl_fo" name="ctrl_fo" data-options="onSelect: onFOChanged">
                                <option value="shallowness">Output Order</option>
                                <option value="depth">Source Order</option>
                                <option value="timing">Timing</option>
                            </select></td>
                         </tr>  
                        
						<tr id="opt_xaxis">
							<td class="formlabel">X Axis:</td>
							<td><select class="easyui-combobox" style="width:140px" id="ctrl_xo" name="ctrl_xo" data-options="onSelect: onXOChanged">
                                <option value="shallowness">Output Order</option>
						        <option value="depth">Source Order</option>
						        <option value="timing">Timing</option>
                                <option value="quality">Quality/Error Factor</option>
                                <option value="risk">Risk Level</option>
                                <option value="importance">Importance</option>
                                <option value="term">Business Term</option>
                                <option value="complexity">Complexity</option>
                                <option value="asset">Asset Name</option>
                                <option value="type">Asset Type</option>
                                <option value="owner">Asset Owner</option>
                                <option value="dept">Asset Department</option>
						    </select></td>
						 </tr>	
                         <tr id="opt_yaxis">
                            <td class="formlabel">Y Axis:</td>
                            <td><select class="easyui-combobox" style="width:140px" id="ctrl_yo" name="ctrl_yo" data-options="onSelect: onYOChanged">
                                <option value="asset">Asset Name</option>   
                                <option value="shallowness">Output Order</option>
                                <option value="depth">Source Order</option>
                                <option value="timing">Timing</option>
                                <option value="quality">Quality/Error Factor</option>
                                <option value="risk">Risk Level</option>
                                <option value="importance">Importance</option>
                                <option value="term">Business Term</option>
                                <option value="complexity">Complexity</option>
                                <option value="type">Asset Type</option>
                                <option value="owner">Asset Owner</option>
                                <option value="dept">Asset Department</option>
                            </select></td>
                         </tr>  
                         <tr id="opt_node_cp">
                            <td class="formlabel">Node color plan:</td>
                            <td><select class="easyui-combobox" style="width:140px" id="ctrl_node_cp" name="ctrl_node_cp" data-options="onSelect: onNCPChanged">
                                <option value="cat">Asset Group</option>
                                <option value="flat">Flat</option>
                                <option value="asset">Asset</option>
                            </select></td>
                         </tr>  
                         <tr id="opt_link_cp">
                            <td class="formlabel">Link color plan:</td>
                            <td><select class="easyui-combobox" style="width:140px" id="ctrl_link_cp" name="ctrl_link_cp" data-options="onSelect: onLCPChanged" selected="bynode">
                                <option value="bynode">Node Color</option>
                                <option value="bytype">Link Type</option>
                            </select></td>
                         </tr>  
                         <tr id="opt_highlight">
                            <td class="formlabel">Highlight:</td>
                            <td><select class="easyui-combobox" style="width:140px" id="ctrl_hilite" name="ctrl_hilite" data-options="onSelect: onHLChanged" selected="none">
                                <option value="none">None</option>
                                <option value="risk">Risk Level</option>
                                <option value="quality">Quality/Error</option>
                                <option value="importance">Importance</option>
                                <option value="nolineage">Lineage Break</option>
                                <option value="timing">Timing</option>
                            </select></td>
                         </tr>  
                         <tr id="opt_influence">
                            <td class="formlabel">Show Intersections:</td>
                            <td><select class="easyui-combobox" style="width:140px" id="ctrl_influence" name="ctrl_influence" data-options="onSelect: onInfChanged" selected="none">
                                <option value="all">All</option>
                                <option value="immediate">Immediate</option>
                                <option value="ultimate">Ultimate</option>
                            </select></td>
                         </tr>  
					</table>
				</div>
			</div>
		</div>
		<div data-options="region:'center'">
			<div id="mycontentx">
				<svg id="vis" viewbox="0 0 1600 1600" preserveAspectRatio="xMinyMin meet"></svg>
			</div>
		</div>
	</div>



</div>




</body>

</html>
